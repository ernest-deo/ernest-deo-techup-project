<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Fantasy Visualizer - Player Statistics</title>
    <link rel="stylesheet" href="indexStyle.css">
</head>
<body>

    <!-- Container for the shared header -->
    <div id="header-container"></div>

    <section id="player-stats">
        <h2>Player Statistics</h2>

        <label for="team-filter">Filter by Team:</label>
        <select id="team-filter">
            <option value="">All Teams</option>
            <!-- Add team options here -->
        </select>

        <table id="stats-table">
            <thead>
                <tr>
                    <th>R#</th>
                    <th>Player</th>
                    <th>Position</th>
                    <th>Team</th>
                    <th>Games Played</th>
                    <th>Minutes Per Game</th>
                    <th>Field Goal %</th>
                    <th>Free Throw %</th>
                    <th>3PM</th>
                    <th>Points</th>
                    <th>Rebounds</th>
                    <th>Assists</th>
                    <th>Steals</th>
                    <th>Blocks</th>
                    <th>Turnovers</th>
                </tr>
            </thead>
            <tbody>
                <!-- Player statistics will be populated here -->
            </tbody>
        </table>
        <button id="load-stats">Load Player Stats</button>
    </section>
    
    <script>
        document.getElementById('load-stats').addEventListener('click', loadStats);

        function loadStats() {
            fetch('playerStats.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok ' + response.statusText);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data); // This logs the loaded data to the console

                    // Clear table body before loading new data
                    const tbody = document.getElementById('stats-table').getElementsByTagName('tbody')[0];
                    tbody.innerHTML = '';

                    data.forEach(stat => {
                        const row = tbody.insertRow();
                        row.insertCell(0).innerText = stat["R#"];
                        row.insertCell(1).innerText = stat.PLAYER;
                        row.insertCell(2).innerText = stat.POS;
                        row.insertCell(3).innerText = stat.TEAM;
                        row.insertCell(4).innerText = stat.GP;
                        row.insertCell(5).innerText = stat.MPG;
                        row.insertCell(6).innerText = stat["FG%"];
                        row.insertCell(7).innerText = stat["FT%"];
                        row.insertCell(8).innerText = stat["3PM"];
                        row.insertCell(9).innerText = stat.PTS;
                        row.insertCell(10).innerText = stat.TREB;
                        row.insertCell(11).innerText = stat.AST;
                        row.insertCell(12).innerText = stat.STL;
                        row.insertCell(13).innerText = stat.BLK;
                        row.insertCell(14).innerText = stat.TO;
                    });
                })
                .catch(error => console.error('Error fetching JSON:', error));
        }
    </script>

</body>
</html>
